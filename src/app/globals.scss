/**
 * Tailwind CSS v4 설정
 *
 * v4에서는 @import를 사용하여 Tailwind를 불러옵니다.
 * @theme 디렉티브로 커스터마이징 가능
 *
 * 참고: CSS @import를 사용하기 위해 문자열을 url() 형식으로 감쌉니다.
 * 이렇게 하면 Sass가 아닌 PostCSS/CSS 레벨에서 처리됩니다.
 */
@import url('tailwindcss');

/**
 * SCSS 변수 정의
 *
 * 왜 SCSS 변수를 사용하는가?
 * - Tailwind와 함께 SCSS의 강력한 기능 활용
 * - 반복되는 값을 변수로 관리
 * - 믹스인으로 재사용 가능한 스타일 정의
 */

// 색상 변수
$color-primary: #3b82f6;
$color-primary-light: #dbeafe;
$color-primary-dark: #2563eb;
$color-secondary: #8b5cf6;
$color-success: #10b981;
$color-warning: #f59e0b;
$color-danger: #ef4444;
$color-error: #ef4444;

// 그레이 스케일
$color-gray-100: #f3f4f6;
$color-gray-200: #e5e7eb;
$color-gray-300: #d1d5db;
$color-gray-400: #9ca3af;
$color-gray-500: #6b7280;
$color-gray-600: #4b5563;
$color-gray-700: #374151;
$color-gray-800: #1f2937;
$color-gray-900: #111827;

// 간격 변수
$spacing-xs: 0.25rem;
$spacing-sm: 0.5rem;
$spacing-md: 1rem;
$spacing-lg: 1.5rem;
$spacing-xl: 2rem;

// 브레이크포인트 (Tailwind와 동일)
$breakpoint-sm: 640px;
$breakpoint-md: 768px;
$breakpoint-lg: 1024px;
$breakpoint-xl: 1280px;

// 전환 효과
$transition-fast: 150ms ease-in-out;
$transition-base: 300ms ease-in-out;
$transition-slow: 500ms ease-in-out;

// 그림자 변수
$shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
$shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
$shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
$shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);

/**
 * SCSS 믹스인
 *
 * 왜 믹스인을 사용하는가?
 * - 반복되는 스타일 패턴을 재사용
 * - 매개변수로 유연한 스타일 생성
 * - 코드 중복 제거
 */

// 반응형 믹스인
@mixin respond-to($breakpoint) {
  @if $breakpoint == 'sm' {
    @media (min-width: $breakpoint-sm) {
      @content;
    }
  } @else if $breakpoint == 'md' {
    @media (min-width: $breakpoint-md) {
      @content;
    }
  } @else if $breakpoint == 'lg' {
    @media (min-width: $breakpoint-lg) {
      @content;
    }
  } @else if $breakpoint == 'xl' {
    @media (min-width: $breakpoint-xl) {
      @content;
    }
  }
}

// 반응형 믹스인 (max-width 기반, 모바일 우선)
@mixin responsive($breakpoint) {
  @if $breakpoint == 'mobile' {
    @media (max-width: $breakpoint-sm - 1px) {
      @content;
    }
  } @else if $breakpoint == 'tablet' {
    @media (max-width: $breakpoint-lg - 1px) {
      @content;
    }
  } @else if $breakpoint == 'desktop' {
    @media (min-width: $breakpoint-lg) {
      @content;
    }
  }
}

// Flexbox 센터 정렬
@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

// 말줄임
@mixin text-ellipsis($lines: 1) {
  @if $lines == 1 {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  } @else {
    display: -webkit-box;
    -webkit-line-clamp: $lines;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

// 그림자
@mixin shadow($level: 'md') {
  @if $level == 'sm' {
    box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  } @else if $level == 'md' {
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
  } @else if $level == 'lg' {
    box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1);
  }
}

/**
 * 테마 커스터마이징
 *
 * Tailwind CSS v4에서는 CSS 변수와 @theme 디렉티브 사용
 */
@theme {
  /* 커스텀 컬러 (SCSS 변수 활용) */
  --color-primary: #{$color-primary};
  --color-secondary: #{$color-secondary};

  /* 커스텀 애니메이션 */
  --animate-fade-in: fade-in 0.3s ease-in-out;
  --animate-slide-in: slide-in 0.3s ease-in-out;
}

/**
 * 전역 스타일
 */
@layer base {
  :root {
    --background: #ffffff;
    --foreground: #171717;

    /* FullScreenLoading에서 사용하는 CSS 변수 */
    --color-background: #ffffff;
    --color-text-secondary: #{$color-gray-600};
    --color-gray-200: #{$color-gray-200};
    --color-primary: #{$color-primary};

    /* 간격 변수 */
    --spacing-1: 0.25rem;
    --spacing-2: 0.5rem;
    --spacing-3: 0.75rem;
    --spacing-4: 1rem;
    --spacing-5: 1.25rem;
    --spacing-6: 1.5rem;
    --spacing-8: 2rem;

    /* 폰트 크기 */
    --font-size-sm: 0.875rem;
    --font-size-base: 1rem;
    --font-size-lg: 1.125rem;
  }

  @media (prefers-color-scheme: dark) {
    :root {
      --background: #0a0a0a;
      --foreground: #ededed;

      /* 다크모드 색상 */
      --color-background-dark: #1a1a1a;
      --color-text-secondary-dark: #{$color-gray-400};
      --color-gray-700: #{$color-gray-700};
      --color-primary-dark: #{$color-primary-light};
    }
  }

  /* 접근성: 스크린 리더 전용 텍스트 */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  html,
  body {
    max-width: 100vw;
    overflow-x: hidden;
  }

  body {
    color: rgb(17 24 39);
    background: white;
    font-family: Arial, Helvetica, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  @media (prefers-color-scheme: dark) {
    body {
      background: rgb(17 24 39);
      color: rgb(243 244 246);
    }
  }
}

/**
 * 키프레임 정의
 */
@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slide-in {
  from {
    transform: translateY(-10px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/**
 * 커스텀 유틸리티 클래스
 */
@layer utilities {
  .animate-fade-in {
    animation: fade-in 0.3s ease-in-out;
  }

  .animate-slide-in {
    animation: slide-in 0.3s ease-in-out;
  }
}
