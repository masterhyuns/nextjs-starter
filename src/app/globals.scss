/**
 * Tailwind CSS v4 설정
 *
 * v4에서는 @import를 사용하여 Tailwind를 불러옵니다.
 * @theme 디렉티브로 커스터마이징 가능
 *
 * 참고: CSS @import를 사용하기 위해 문자열을 url() 형식으로 감쌉니다.
 * 이렇게 하면 Sass가 아닌 PostCSS/CSS 레벨에서 처리됩니다.
 */
@import url('tailwindcss');

/**
 * SCSS 변수 정의
 *
 * 왜 SCSS 변수를 사용하는가?
 * - Tailwind와 함께 SCSS의 강력한 기능 활용
 * - 반복되는 값을 변수로 관리
 * - 믹스인으로 재사용 가능한 스타일 정의
 */

// 색상 변수
$color-primary: #3b82f6;
$color-secondary: #8b5cf6;
$color-success: #10b981;
$color-warning: #f59e0b;
$color-danger: #ef4444;

// 간격 변수
$spacing-xs: 0.25rem;
$spacing-sm: 0.5rem;
$spacing-md: 1rem;
$spacing-lg: 1.5rem;
$spacing-xl: 2rem;

// 브레이크포인트 (Tailwind와 동일)
$breakpoint-sm: 640px;
$breakpoint-md: 768px;
$breakpoint-lg: 1024px;
$breakpoint-xl: 1280px;

// 전환 효과
$transition-fast: 150ms ease-in-out;
$transition-base: 300ms ease-in-out;
$transition-slow: 500ms ease-in-out;

/**
 * SCSS 믹스인
 *
 * 왜 믹스인을 사용하는가?
 * - 반복되는 스타일 패턴을 재사용
 * - 매개변수로 유연한 스타일 생성
 * - 코드 중복 제거
 */

// 반응형 믹스인
@mixin respond-to($breakpoint) {
  @if $breakpoint == 'sm' {
    @media (min-width: $breakpoint-sm) {
      @content;
    }
  } @else if $breakpoint == 'md' {
    @media (min-width: $breakpoint-md) {
      @content;
    }
  } @else if $breakpoint == 'lg' {
    @media (min-width: $breakpoint-lg) {
      @content;
    }
  } @else if $breakpoint == 'xl' {
    @media (min-width: $breakpoint-xl) {
      @content;
    }
  }
}

// Flexbox 센터 정렬
@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

// 말줄임
@mixin text-ellipsis($lines: 1) {
  @if $lines == 1 {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  } @else {
    display: -webkit-box;
    -webkit-line-clamp: $lines;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}

// 그림자
@mixin shadow($level: 'md') {
  @if $level == 'sm' {
    box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  } @else if $level == 'md' {
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
  } @else if $level == 'lg' {
    box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1);
  }
}

/**
 * 테마 커스터마이징
 *
 * Tailwind CSS v4에서는 CSS 변수와 @theme 디렉티브 사용
 */
@theme {
  /* 커스텀 컬러 (SCSS 변수 활용) */
  --color-primary: #{$color-primary};
  --color-secondary: #{$color-secondary};

  /* 커스텀 애니메이션 */
  --animate-fade-in: fade-in 0.3s ease-in-out;
  --animate-slide-in: slide-in 0.3s ease-in-out;
}

/**
 * 전역 스타일
 */
@layer base {
  :root {
    --background: #ffffff;
    --foreground: #171717;
  }

  @media (prefers-color-scheme: dark) {
    :root {
      --background: #0a0a0a;
      --foreground: #ededed;
    }
  }

  html,
  body {
    max-width: 100vw;
    overflow-x: hidden;
  }

  body {
    color: rgb(17 24 39);
    background: white;
    font-family: Arial, Helvetica, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  @media (prefers-color-scheme: dark) {
    body {
      background: rgb(17 24 39);
      color: rgb(243 244 246);
    }
  }
}

/**
 * 키프레임 정의
 */
@keyframes fade-in {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes slide-in {
  from {
    transform: translateY(-10px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

/**
 * 커스텀 유틸리티 클래스
 */
@layer utilities {
  .animate-fade-in {
    animation: fade-in 0.3s ease-in-out;
  }

  .animate-slide-in {
    animation: slide-in 0.3s ease-in-out;
  }
}
